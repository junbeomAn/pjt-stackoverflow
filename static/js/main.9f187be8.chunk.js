(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{425:function(e,t,n){e.exports=n(872)},576:function(e,t){},578:function(e,t){},623:function(e,t){},659:function(e,t){},867:function(e,t,n){},872:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(99),o=n.n(c),s=n(31),i=n(411);n(430),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(39),u=n(101),m=n(23),p=n(21),d=n.n(p),h=n(36),v=n(26),g=n(27),f=n(29),b=n(28),E=n(30),w=n(121),y=n(22),k=n.n(y),C=n(883),S=function(e){var t=e.children;return r.a.createElement("div",{className:"side__nav"},t)},I=n(72),O=n.n(I),j=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){O.a.get("http://localhost:4000/logout",{withCredentials:!0}).then(function(e){var t=e.data.redirectURL;console.log(t),n.props.history.push(t)}).catch(function(e){return console.log(e)})},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"header__nav--logout",onClick:this.onClick},"logout"))}}]),t}(a.Component),_=n(388),N=n.n(_),P=function(){return!!N.a.get("connect.sid")},x=function(){var e=Object(h.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P()){e.next=2;break}return e.abrupt("return","");case 2:return e.prev=2,e.next=5,O.a.get("http://localhost:4000/getUserId",{withCredentials:!0});case 5:return t=e.sent,n=t.data,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),$=function(e){var t=e.history;e.match;return r.a.createElement("div",{className:"header"},r.a.createElement("ul",{className:"header__nav"},r.a.createElement(l.b,{to:"/"},r.a.createElement("li",null,"Home")),r.a.createElement(l.b,{to:"/post/page/1"},r.a.createElement("li",null,"Post")),r.a.createElement(l.b,{to:"/"},r.a.createElement("li",null,"About")),r.a.createElement(l.b,{to:"/"},r.a.createElement("li",null,"Rank")),P()?r.a.createElement(j,{history:t}):r.a.createElement("a",{href:"http://127.0.0.1:4000/glogin"},r.a.createElement("li",null,"Login"))))},A=n(874),D=(r.a.Component,r.a.Component,n(882)),q=n(138),z=n.n(q),F=(n(302),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onMakeClickLink=function(e,t){var a=n.props.keyword;return a?"/post/".concat(a,"/page/").concat(e||1,"/").concat(t):"/post/page/".concat(e||1,"/").concat(t)},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,c=t.posts,o=(t.client,t.onPostClick,t.page),s=t.postId;return r.a.createElement(a.Fragment,null,n?r.a.createElement(D.a,{size:"large",active:!0,inverted:!0},"Loading . . ."):c.length?c.map(function(t){return r.a.createElement(l.b,{to:e.onMakeClickLink(o,t._id),key:t._id},r.a.createElement("div",{className:s===t._id?"side__nav--item active":"side__nav--item"},r.a.createElement("div",{className:"item-title"},t.title),r.a.createElement("div",{className:"item-info"},r.a.createElement("div",null,"".concat(t.reward," \uc774\ub354")),r.a.createElement("div",null,"|"),r.a.createElement("div",null,z()(new Date(+t.createdAt)).fromNow()))))}):r.a.createElement("h1",null,"Oops! No results!"))}}]),t}(a.Component)),T=n(103),M=function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home__showcase"},r.a.createElement("h1",null,"\uc5b8\uc81c\uae4c\uc9c0 . . . ",r.a.createElement("br",null),"\uace0\ubbfc\ub9cc \ud560 \uac74\uac00\uc694?"),r.a.createElement(l.b,{to:"/post/create",className:"home__showcase--question-btn"},"\uc9c8\ubb38\ud558\uae30 >"),P()?r.a.createElement(l.b,{to:"/post/page/1",className:"home__showcase--login-btn"},"\uc9c8\ubb38\ubcf4\ub7ec\uac00\uae30 >"):r.a.createElement("a",{href:"http://127.0.0.1:4000/glogin",className:"home__showcase--login-btn"},r.a.createElement(T.a,{name:"github"}),"\uae43\ud5c8\ube0c \ub85c\uadf8\uc778"))}}]),t}(a.Component);function Q(){var e=Object(m.a)(["\n  {\n    getPostsWithPage(page: 1) {\n  \t\t_id\n    \tuserId\n      title\n      contents\n      createdAt\n    }\n  }\n"]);return Q=function(){return e},e}function B(){var e=Object(m.a)(["\n  query($_id: String!) {\n    getPost(_id: $_id) {\n      title\n      contents\n      createdAt\n    }\n  }\n"]);return B=function(){return e},e}function W(){var e=Object(m.a)(["\n  {\n    allPosts {\n      _id\n      userId\n      title\n      contents\n      createdAt\n    }\n  }\n"]);return W=function(){return e},e}var K=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",contents:"",createdAt:"",keyword:""},n.onPostClick=function(){var e=Object(h.a)(d.a.mark(function e(t,a){var r,c,o,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query({query:U,variables:{_id:a}});case 2:r=e.sent,c=r.data.getPost,o=c.title,s=c.contents,i=c.createdAt,n.setState({title:o,contents:s,createdAt:i});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.onKeywordSearch=function(e){var t=n.state.keyword;"Enter"===e.key&&(t?n.props.history.push("/post/".concat(n.state.keyword,"/page/1")):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694"))},n.onValueChange=function(e){var t=e.target.value;n.setState({keyword:t})},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=this.props,a=n.data,c=a.getPostsWithPage,o=void 0===c?[]:c;a.loading,n.match.params.page;return o=o.slice().reverse(),r.a.createElement(s.a,null,function(n){return r.a.createElement("div",{className:"home"},r.a.createElement(w.a,{split:"vertical",minSize:"50%",defaultSize:"50%"},r.a.createElement(S,null,r.a.createElement(M,null)),r.a.createElement("main",{className:"main__screen--home"},r.a.createElement($,t),r.a.createElement("div",{className:"home-search-container"},r.a.createElement(C.a,{className:"home-search",onKeyPress:e.onKeywordSearch,onChange:e.onValueChange,value:e.state.keyword,size:"big",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694"})))))})}}]),t}(a.Component),U=(k()(W()),k()(B())),V=k()(Q()),L=Object(s.e)(Object(s.f)(V))(K),G=n(182),R=n(884),H=n(889),J=n(886);function X(){var e=Object(m.a)(["\n  mutation($email:String!, $password: String!){\n  login(email: $email, password: $password) {\n    ok\n    user {\n      _id\n      email\n      username\n    }\n  }\n}\n"]);return X=function(){return e},e}var Y=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.onSubmit=Object(h.a)(d.a.mark(function e(){var t,a,r,c,o,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.email,r=t.password,e.next=3,n.props.mutate({variables:{email:a,password:r}});case 3:c=e.sent,console.log(c),o=c.data.login,s=o.ok,i=o.user._id,localStorage.setItem("userId",i),s?n.props.history.push("/"):console.log("invalid login");case 8:case"end":return e.stop()}},e,this)})),n.onChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(G.a)({},a,r))},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.password,n=e.email;return console.log(this.props),r.a.createElement(R.a,{text:!0},r.a.createElement(H.a,{as:"h2"},"Login page"),r.a.createElement(J.a,null,r.a.createElement(J.a.Field,null,r.a.createElement(C.a,{onChange:this.onChange,value:n,placeholder:"Email",fluid:!0,name:"email"})),r.a.createElement(J.a.Field,null,r.a.createElement(C.a,{onChange:this.onChange,value:t,type:"password",placeholder:"Password",fluid:!0,name:"password"})),r.a.createElement(A.a,{onClick:this.onSubmit},"Submit")))}}]),t}(a.Component),Z=k()(X()),ee=Object(s.f)(Z)(Y),te=n(887),ne=n(185),ae=n.n(ne),re=n(885),ce=n(120),oe=n.n(ce);function se(){var e=Object(m.a)(["\n  mutation($postId: String!) {\n  deletePost(postId: $postId) {\n    ok\n  }\n}\n"]);return se=function(){return e},e}var ie=k()(se());function le(){var e=Object(m.a)(["\n  mutation($postId: String!) {\n    terminatePost(postId: $postId) {\n      ok\n    }\n  }\n"]);return le=function(){return e},e}var ue=k()(le());function me(){var e=Object(m.a)(["\n  query($page: Int!) {\n    getPostsWithPage(page: $page) {\n      _id\n      userId\n      title\n      contents\n      createdAt\n      reward\n      comments {\n        likes\n        contents\n        createdAt\n        metaAccount\n      }\n      likes\n      tags\n      terminated\n    }\n  }\n"]);return me=function(){return e},e}var pe=k()(me());function de(){var e=Object(m.a)(["\n  query($postId: String!) {\n    getPostState(postId: $postId) {\n      terminated\n    }\n  }\n"]);return de=function(){return e},e}var he=k()(de());function ve(){var e=Object(m.a)(["\n  query($_id: String!) {\n    getPost(_id: $_id) {\n      _id\n      userId\n      title\n      contents\n      createdAt\n      reward\n      comments {\n        likes\n      }\n      likes\n      tags\n      terminated\n    }\n  }\n"]);return ve=function(){return e},e}var ge=k()(ve()),fe=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).refetchPostState=function(){var e=n.props.match.params.id;return[{query:he,variables:{postId:e}}]},n.refetchPosts=function(){var e=n.props.match.params.page;return[{query:pe,variables:{page:parseInt(e)}}]},n.onDeletePost=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.postId,c=a.match.params.page,e.next=3,t({variables:{postId:r}});case 3:n.props.history.push("/post/page/".concat(c));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.terminatePostAndDealBreak=function(){var e=Object(h.a)(d.a.mark(function e(t,a,r){var c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isTerminatable(r,t);case 2:if(e.sent){e.next=6;break}return alert("\ud604\uc7ac \ub9c8\uac10\ud560 \uc218 \uc5c6\ub294 \uc9c8\ubb38\uc785\ub2c8\ub2e4."),e.abrupt("return");case 6:return e.prev=6,c=a({variables:{postId:t}}),n.onDealBreak(t),e.next=11,c;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0);case 16:case"end":return e.stop()}},e,this,[[6,13]])}));return function(t,n,a){return e.apply(this,arguments)}}(),n.isTerminatable=function(){var e=Object(h.a)(d.a.mark(function e(t,n){var a,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query({query:ge,variables:{_id:n},fetchPolicy:"network-only"});case 2:return a=e.sent,r=a.data.getPost.comments,console.log(r),c=r.reduce(function(e,t){return t.likes<5&&e},!0),console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.onDealBreak=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props.myContract,r={gas:1e5},a.methods.dealBreak(t).send(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.postId,c=t.terminated,o=t.onChangeEditStatus,i=t.createdAt,l=t.tags,u=t.isMine;return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,c?r.a.createElement("div",{className:"post-options-item post-terminated"},"Terminated",r.a.createElement("br",null)," Question"):u&&r.a.createElement(s.c,{mutation:ue,refetchQueries:this.refetchPostState},function(t){return r.a.createElement(s.a,null,function(a){return r.a.createElement("div",{className:"post-options-item post-terminate",onClick:function(){return e.terminatePostAndDealBreak(n,t,a)}},"Terminate")})}),r.a.createElement("div",{className:"post-options-item post-created"},z()(new Date(+i)).fromNow()),u&&r.a.createElement("div",{className:"post-edit post-options-item"},r.a.createElement(T.a,{name:"edit",onClick:o,className:"icon"})),u&&r.a.createElement("div",{className:"post-delete post-options-item"},r.a.createElement(s.c,{mutation:ie,refetchQueries:this.refetchPosts},function(t){return r.a.createElement(T.a,{name:"trash",onClick:function(){return e.onDeletePost(t)}})}))),r.a.createElement("div",{className:"post-options-item post-tags"},l.map(function(e,t){return r.a.createElement("div",{key:e+t},e)})))}}]),t}(a.Component),be=function(e){var t=e.onSubmit,n=e.name,a=e.onChangeStatus;return r.a.createElement("div",{className:n},r.a.createElement(T.a,{name:"save outline",size:"big",onClick:t}),r.a.createElement(T.a,{name:"undo",size:"large",onClick:a}))};function Ee(){var e=Object(m.a)(["\n  mutation($postId: String!, $contents: String, $title: String, $tags: [String]) {\n  updatePost(postId: $postId, contents: $contents, title: $title, tags: $tags ) {\n    ok\n  }\n}\n"]);return Ee=function(){return e},e}var we=k()(Ee()),ye=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={editStatus:!1,contents:""},n.refetchPosts=function(){var e=n.props.match.params.page;return[{query:pe,variables:{page:parseInt(e)}}]},n.onUpdatePost=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.contents,r=n.props,c=r.currPost._id,o=r.tags,a){e.next=5;break}return alert("\uc218\uc815\ud560 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 5:return e.next=7,t({variables:{postId:c,contents:a,tags:o}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.onChangeEditStatusTrue=function(){n.setState({editStatus:!0})},n.onChangeEditStatusFalse=function(){n.setState({editStatus:!1})},n.onChange=function(e){var t=e.target.value;n.setState({contents:t})},n.setContentsState=function(){var e=n.props.currPost;n.setState({contents:e.contents})},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=e.currPost._id!==this.props.currPost._id,a=e.currPost!==this.props.currPost;(n||a)&&(this.onChangeEditStatusFalse(),this.setContentsState())}},{key:"componentDidMount",value:function(){this.setContentsState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.posts,c=t.currPost,o=t.loading,i=t.data,l=t.match,u=t.history,m=t.myContract,p=t.userId,d=this.state,h=d.editStatus,v=d.contents;return r.a.createElement(a.Fragment,null,o?r.a.createElement(D.a,{size:"large",active:!0,inverted:!0},"Loading . . ."):n.length?h?r.a.createElement(s.c,{mutation:we,refetchQueries:this.refetchPosts},function(t){return r.a.createElement("div",{className:"main__screen--postlist--post"},r.a.createElement(re.a,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",className:"main__screen--post--contents",onChange:e.onChange,value:v,autoFocus:!0}),r.a.createElement(be,{name:"post-edit-save-btn",onChangeStatus:e.onChangeEditStatusFalse,onSubmit:function(){return e.onUpdatePost(t)}}))}):r.a.createElement("div",{className:"main__screen--postlist--post"},r.a.createElement("div",{className:"main__screen--post--contents"},r.a.createElement("div",{className:"upper"},c.title),r.a.createElement("div",{className:"lower"},r.a.createElement("div",{className:"post-options"},r.a.createElement(fe,{terminated:i.getPostState.terminated,createdAt:c.createdAt,postId:c._id,onChangeEditStatus:this.onChangeEditStatusTrue,match:l,history:u,tags:c.tags,setContentsState:this.setContentsState,myContract:m,isMine:p===c.userId})),r.a.createElement(oe.a,{className:"post-contents",source:c.contents})))):r.a.createElement("h1",null,"Oops! No results!"))}}]),t}(a.Component),ke=function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,n=e.prevPage,a=e.nextPage;return r.a.createElement("div",{className:"pagination__wrapper"},r.a.createElement("ul",{className:"pagination"},n&&r.a.createElement(l.b,{to:"/post/page/".concat(t-1)},r.a.createElement("li",null,r.a.createElement("span",{className:"pagination--arrow"},"<"),"prev")),a&&r.a.createElement(l.b,{to:"/post/page/".concat(t+1)},r.a.createElement("li",null,"next",r.a.createElement("span",{className:"pagination--arrow"},">")))))}}]),t}(a.Component);function Ce(){var e=Object(m.a)(["\n  query($postId: String!) {\n    getCommentsByPostId(postId: $postId) {\n      _id\n      userId\n      likes\n      contents\n      createdAt\n      selected\n      metaAccount\n    }\n  }\n"]);return Ce=function(){return e},e}var Se=k()(Ce());function Ie(){var e=Object(m.a)(["\n  mutation($commentId: String!, $postId: String!) {\n  likeComment(commentId:$commentId, postId: $postId) {\n    ok\n  }\n}\n"]);return Ie=function(){return e},e}var Oe=k()(Ie());function je(){var e=Object(m.a)(["\nmutation($commentId: String!, $postId: String!) {\n  dislikeComment(commentId:$commentId, postId: $postId) {\n    ok\n  }\n}\n"]);return je=function(){return e},e}var _e=k()(je());function Ne(){var e=Object(m.a)(["\n  mutation($commentId: String!, $postId: String!) {\n    selectComment(commentId:$commentId, postId: $postId) {\n      ok\n    }\n  }\n"]);return Ne=function(){return e},e}var Pe=k()(Ne());function xe(){var e=Object(m.a)(["\n  mutation($postId: String!, $commentId: String!) {\n  deleteComment(postId: $postId, commentId: $commentId) {\n    ok\n  }\n}\n"]);return xe=function(){return e},e}var $e=k()(xe()),Ae=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1,voted:!1},n.refetchComments=function(){var e=n.props.postId;return[{query:Se,variables:{postId:e}}]},n.refetchCommentsAndPostState=function(){var e=n.props.postId;return[{query:Se,variables:{postId:e}},{query:he,variables:{postId:e}}]},n.onDealSuccess=function(){var e=n.props,t=e.match.params.id,a=e.comment.metaAccount;e.myContract.methods.setRecipientAndDealConclusion(t,a).send({gas:1e5}),console.log("deal succeed")},n.onSelectComment=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,r=a.comment._id,c=a.postId,!a.terminated){e.next=4;break}return alert("\uc774\ubbf8 \ub9c8\uac10\ub41c \uc9c8\ubb38\uc785\ub2c8\ub2e4."),e.abrupt("return");case 4:return e.prev=4,o=t({variables:{commentId:r,postId:c}}),n.onDealSuccess(),e.next=9,o;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.onEstimateComment=function(){var e=Object(h.a)(d.a.mark(function e(t,a){var r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.state,c=r.authenticated,!r.voted){e.next=4;break}return alert("\uc774\ubbf8 \ud22c\ud45c\ud558\uc168\uc2b5\ub2c8\ub2e4"),e.abrupt("return");case 4:if(c){e.next=7;break}return alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),e.abrupt("return");case 7:return e.next=9,t(a);case 9:n.setState({voted:!0});case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.setState({authenticated:P()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.postId,c=t.comment,o=c._id,i=c.likes,l=c.selected,u=t.onChangeEditStatusTrue,m=t.isMine;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"answer-likes answer-option-item"},r.a.createElement(s.c,{mutation:Oe,refetchQueries:this.refetchComments},function(t){return r.a.createElement("div",{className:"icon",onClick:function(){return e.onEstimateComment(t,{variables:{postId:n,commentId:o}})}},"+")}),r.a.createElement("div",null,i),r.a.createElement(s.c,{mutation:_e,refetchQueries:this.refetchComments},function(t){return r.a.createElement("div",{className:"icon",onClick:function(){return e.onEstimateComment(t,{variables:{postId:n,commentId:o}})}},"-")})),r.a.createElement("div",{className:"answer-choose-btn answer-option-item"},r.a.createElement(s.c,{mutation:Pe,refetchQueries:this.refetchCommentsAndPostState},function(t){return l?r.a.createElement(T.a,{name:"check",size:"big",color:"green"}):r.a.createElement(T.a,{onClick:function(){return e.onSelectComment(t)},name:"check",size:"big"})})),m&&r.a.createElement("div",{className:"answer-edit answer-option-item"},r.a.createElement(T.a,{name:"edit",onClick:u,className:"icon"})),m&&r.a.createElement("div",{className:"answer-delete answer-option-item"},r.a.createElement(s.c,{mutation:$e,refetchQueries:this.refetchComments},function(e){return r.a.createElement(T.a,{name:"trash",onClick:function(){return e({variables:{postId:n,commentId:o}})}})})))}}]),t}(a.Component);function De(){var e=Object(m.a)(["\n  mutation($commentId: String!, $postId: String!, $contents: String!) {\n  updateComment(commentId: $commentId, postId: $postId, contents: $contents ) {\n    ok\n  }\n}\n"]);return De=function(){return e},e}var qe=k()(De()),ze=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={editStatus:!1,contents:""},n.refetchComments=function(){var e=n.props.postId;return[{query:Se,variables:{postId:e}}]},n.onChangeEditStatusTrue=function(){n.setState({editStatus:!0})},n.onChangeEditStatusFalse=function(){n.setState({editStatus:!1})},n.onChange=function(e){var t=e.target.value;n.setState({contents:t})},n.onUpdateComment=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.contents,r=n.props,c=r.postId,o=r.comment._id,a){e.next=5;break}return alert("\uc218\uc815\ud560 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694."),e.abrupt("return");case 5:return e.next=7,t({variables:{postId:c,commentId:o,contents:a}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.comment.contents;this.setState({contents:e})}},{key:"componentDidUpdate",value:function(e,t){e.comment.contents!==this.props.comment.contents&&this.onChangeEditStatusFalse()}},{key:"render",value:function(){var e=this,t=this.props,n=t.myContract,c=t.match,o=t.postId,i=t.comment,l=t.terminated,u=t.userId,m=this.state,p=m.editStatus,d=m.contents;return r.a.createElement(a.Fragment,null,p?r.a.createElement(s.c,{mutation:qe,refetchQueries:this.refetchComments},function(t){return r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement(re.a,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694",className:"answer answer-add-write",onChange:e.onChange,value:d,autoFocus:!0}),r.a.createElement(be,{name:"answer-edit-save-btn",onChangeStatus:e.onChangeEditStatusFalse,onSubmit:function(){return e.onUpdateComment(t)}}))}):r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement("div",{className:"answer"},r.a.createElement("div",{className:"answer-option"},r.a.createElement(Ae,{myContract:n,match:c,postId:o,comment:i,terminated:l,onChangeEditStatusTrue:this.onChangeEditStatusTrue,isMine:u===i.userId})),r.a.createElement(oe.a,{className:"answer-contents",key:i._id,source:i.contents}))))}}]),t}(a.Component);function Fe(){var e=Object(m.a)(["\n  mutation($userId: String!, $postId: String!, $contents: String!, $metaAccount: String!) {\n    createComment(userId: $userId, postId: $postId, contents: $contents, metaAccount: $metaAccount) {\n      ok\n    }\n  }\n"]);return Fe=function(){return e},e}var Te=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={writeStatus:!1,contents:"",userId:""},n.getCurrentPost=function(){var e=n.props,t=e.match.params.id,a=e.posts;return t?a.filter(function(e){return e._id===t}):a.slice(a.length-1)},n.onAddClick=function(e){P()?n.setState({writeStatus:!0}):alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.")},n.onChange=function(e){var t=e.target.value;n.setState({contents:t})},n.onChangeWriteStatusFalse=function(){n.setState({writeStatus:!1})},n.onSubmit=Object(h.a)(d.a.mark(function e(){var t,a,r,c,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.account,a=n.state.contents,r=n.getCurrentPost()[0]._id,e.prev=3,e.next=6,O.a.get("http://localhost:4000/getUserId",{withCredentials:!0});case 6:return c=e.sent,o=c.data,e.next=10,n.props.mutate({variables:{userId:o,postId:r,contents:a,metaAccount:t},refetchQueries:[{query:Se,variables:{postId:r}}]});case 10:n.setState({contents:""}),n.onChangeWriteStatusFalse(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[3,14]])})),n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;x().then(function(t){return e.setState({userId:t})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.writeStatus,c=t.contents,o=t.userId,i=this.props,l=i.posts,u=i.loading,m=i.myContract,p=i.match,d=i.data,h=(this.getCurrentPost()[0]||[])._id;return r.a.createElement(a.Fragment,null,u?null:r.a.createElement(s.d,{query:Se,variables:{postId:h}},function(t){var a=t.loading,s=(t.error,t.data.getCommentsByPostId);return console.log(s),a?null:r.a.createElement("div",{className:"answer-list"},n?r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement(re.a,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",className:"answer answer-add-write",onChange:e.onChange,value:c,autoFocus:!0}),r.a.createElement(be,{name:"answer-save-btn",onChangeStatus:e.onChangeWriteStatusFalse,onSubmit:e.onSubmit})):r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement("div",{className:"answer answer-add",onClick:e.onAddClick},"+")),l.length&&(s.length?s.map(function(e,t){return r.a.createElement(ze,{key:e._id,myContract:m,match:p,postId:h,comment:e,terminated:d.getPostState.terminated,userId:o})}):null))}))}}]),t}(a.Component),Me=k()(Fe()),Qe=Object(s.e)(Object(s.f)(Me))(Te),Be=[{constant:!1,inputs:[{name:"_key",type:"string"}],name:"dealBreak",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"string"}],name:"setQuestion",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"string"},{name:"_recipient",type:"address"}],name:"setRecipientAndDealConclusion",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_key",type:"string"}],name:"getQuestion",outputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function We(){var e=Object(m.a)(["\n  query($page:Int!, $keyword:String!){\n    getPostWithKeyword(page: $page, keyword: $keyword) {\n      _id\n      userId\n      title\n      contents\n      createdAt\n      reward\n      comments {\n        likes\n        contents\n        createdAt\n        metaAccount\n      }\n      likes\n      tags\n      terminated\n    }\n  }\n"]);return We=function(){return e},e}var Ke=k()(We());function Ue(){var e=Object(m.a)(["\n  {\n    allPosts {\n      _id\n      userId\n      title\n      contents\n      createdAt\n    }\n  }\n"]);return Ue=function(){return e},e}var Ve=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",contents:"",createdAt:"",account:"",myContract:{},searchKeyword:"",userId:""},n.onTransactionDefaultSetting=Object(h.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==typeof window.web3&&(window.web3=new ae.a(window.web3.currentProvider)),e.prev=1,e.next=4,window.web3.eth.getAccounts();case 4:return t=e.sent,e.next=7,window.web3.eth.Contract(Be,"0x8768befc1c821b62c756e9e1a78c905ddc11395a",{defaultAccount:t[0],defaultGasPrice:"20000000000"});case 7:a=e.sent,n.setState({myContract:a,account:t[0]}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])})),n.getCurrentPost=function(e){var t=n.props.match.params.id;return t?e.filter(function(e){return e._id===t}):e.slice(e.length-1)},n.onValueChange=function(e){var t=e.target.value;n.setState({searchKeyword:t})},n.onKeywordSearch=function(e){var t=n.state.searchKeyword;"Enter"===e.key&&(t?n.props.history.push("/post/".concat(t,"/page/1")):alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694"))},n.onMakePostQuery=function(){return n.props.match.params.keyword?Ke:pe},n.onMakePostQueryVariables=function(){var e=n.props.match.params,t=e.keyword,a=e.page;return t?{page:n.handleParsePageNum(a),keyword:t}:{page:n.handleParsePageNum(a)}},n.handleParsePageNum=function(e){return void 0===(e=parseInt(e))?1:e<1?1:e},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.onTransactionDefaultSetting(),x().then(function(t){return e.setState({userId:t})})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.myContract,c=n.account,o=n.searchKeyword,i=n.userId,m=this.props,p=m.match.params,d=p.page,h=p.id,v=p.keyword,g=m.match,f=m.history;return(d=parseInt(d))>0?r.a.createElement(s.d,{query:this.onMakePostQuery(),variables:this.onMakePostQueryVariables()},function(n){var m=n.loading,p=(n.error,n.data),b=p.getPostsWithPage,E=void 0===b?[]:b,y=p.getPostWithKeyword,k=void 0===y?[]:y;if(e=E.length?E:k,console.log(e),!h&&e&&!m)return v?r.a.createElement(u.a,{to:"/post/".concat(v,"/page/").concat(d,"/").concat(e[0]._id)}):r.a.createElement(u.a,{to:"/post/page/".concat(d,"/").concat(e[0]._id)});e=e.slice().reverse();var I=t.getCurrentPost(e)[0];return r.a.createElement(s.d,{query:he,variables:{postId:h||""}},function(n){var s=n.loading,u=(n.error,n.data);return r.a.createElement("div",null,r.a.createElement("div",{className:"postlist"},r.a.createElement(w.a,{split:"vertical",minSize:"50%",defaultSize:"50%"},r.a.createElement(S,null,r.a.createElement(F,{loading:m,posts:e,keyword:v,page:d,postId:g.params.id}),r.a.createElement(ke,{page:d,prevPage:d>1,nextPage:e.length>=10})),r.a.createElement("main",{className:"main__screen--postlist"},r.a.createElement($,t.props),I&&r.a.createElement(ye,{loading:m||s,posts:e,currPost:I,match:g,data:u,myContract:a,history:f,userId:i}),r.a.createElement(te.a,{trigger:r.a.createElement("div",{className:"postlist--open-search-bar"},r.a.createElement(T.a,{size:"small",name:"search"})),basic:!0,size:"small"},r.a.createElement(te.a.Content,null,r.a.createElement(C.a,{value:o,onChange:t.onValueChange,onKeyPress:t.onKeywordSearch,placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.",size:"huge",fluid:!0,autofocus:!0}))),r.a.createElement(l.b,{to:"/post/create"},r.a.createElement("div",{className:"postlist--to-create-post"},"+")))),"}"),r.a.createElement("div",{className:"post-answer"},r.a.createElement(Qe,{loading:m||s,data:u,currPost:I,posts:e,match:g,myContract:a,account:c,userId:i})))})}):r.a.createElement(u.a,{to:"/post/page/1"})}}]),t}(a.Component),Le=(k()(Ue()),Ve),Ge=n(413),Re=n(141),He=n.n(Re),Je=function(e){var t=e.prevStep,n=e.nextStep,a=e.changeStep;return r.a.createElement("div",{className:"step-changer__wrapper"},r.a.createElement("ul",{className:"step-changer"},t&&r.a.createElement("li",{onClick:function(){return a("prev")}},r.a.createElement(T.a,{name:"chevron left"}),"\uc774\uc804"),n&&r.a.createElement("li",{onClick:function(){return a("next")}},"\ub2e4\uc74c",r.a.createElement(T.a,{name:"chevron right"}))))},Xe=n(888),Ye=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={currentPrice:"",value:""},n.onChange=function(e){var t=e.target.value;n.setState({value:t})},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(function(){O.a.get("https://api.bithumb.com/public/ticker/ETH").then(function(t){var n=t.data.data.closing_price;e.setState({currentPrice:n})})},2e3)}},{key:"render",value:function(){var e=this.props.currentStep,t=this.state,n=t.currentPrice,a=t.value;return r.a.createElement(Xe.a.Group,{vertical:!0,size:"mini"},r.a.createElement(Xe.a,{className:1===e?"active":"completed"},r.a.createElement(T.a,{name:"pencil alternate"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Title,null,"\uc81c \ubaa9"),r.a.createElement(Xe.a.Description,null,"\uc9c8\ubb38 \uc81c\ubaa9 \uc785\ub825"))),r.a.createElement(Xe.a,{className:2===e?"active":e>2?"completed":""},r.a.createElement(T.a,{name:"content"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Title,null,"\ub0b4 \uc6a9"),r.a.createElement(Xe.a.Description,null,"\ub0b4\uc6a9 \uc785\ub825, \ub9c8\ud06c\ub2e4\uc6b4 \uc0ac\uc6a9\uac00\ub2a5"))),r.a.createElement(Xe.a,{className:3===e?"active":e>3?"completed":""},r.a.createElement(T.a,{name:"tags"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Title,null,"\ud0dc \uadf8"),r.a.createElement(Xe.a.Description,null,"\uad00\ub828 \ud0dc\uadf8 \uc785\ub825"))),r.a.createElement(Xe.a,{className:4===e?"active":""},r.a.createElement(T.a,{name:"money"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Title,null,"\uc81c\uc2dc\ud560 \ubcf4\uc0c1\uae08"),r.a.createElement(Xe.a.Description,null,"1\uc774\ub354\ub9ac\uc6c0 = \ud604\uc7ac \ud55c\ud654 ",r.a.createElement("strong",null,n||"\uc57d 30\ub9cc","\uc6d0")))),r.a.createElement(Xe.a,null,r.a.createElement(T.a,{name:"calculator"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Description,null,r.a.createElement("div",{className:"ether-calculator"},r.a.createElement(C.a,{placeholder:"\uc774\ub354\ub9ac\uc6c0 \uacc4\uc0b0\uae30(\uc774\ub354)",size:"mini",value:a,onChange:this.onChange}),r.a.createElement(T.a,{name:"angle double down",size:"small"}),r.a.createElement(C.a,{placeholder:"\uc774\ub354\ub9ac\uc6c0 \uacc4\uc0b0\uae30(\uc6d0\ud654)",size:"mini",value:a&&+a*+n,onChange:this.onChange}))))))}}]),t}(a.Component);function Ze(){var e=Object(m.a)(["\n  mutation(\n    $userId: String!\n    $title: String!\n    $contents: String!\n    $tags: [String!]\n    $reward: Float!\n  ) {\n    createPost(\n      userId: $userId\n      title: $title\n      contents: $contents\n      tags: $tags\n      reward: $reward\n    ) {\n      ok\n      post {\n        _id\n        title\n        contents\n        userId\n        reward\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}var et=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).onTransactionDefaultSetting=Object(h.a)(d.a.mark(function e(){var t,a,r,c,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.web3){e.next=4;break}window.web3=new ae.a(window.web3.currentProvider),e.next=6;break;case 4:return console.log("web3 is not defined now"),e.abrupt("return");case 6:return e.prev=6,e.next=9,window.web3.eth.getAccounts();case 9:return t=e.sent,console.log(t),n.setState({account:t[0]}),a=window.web3.eth.Contract(Be,"0x8768befc1c821b62c756e9e1a78c905ddc11395a",{defaultGasPrice:"20000000000",defaultAccount:n.state.account}),r=window.web3.eth.getBalance(n.state.account),e.next=16,a;case 16:return c=e.sent,e.next=19,r;case 19:return o=e.sent,e.next=22,window.web3.utils.fromWei(o);case 22:s=e.sent,n.setState({myContract:c,etherBalance:s}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),console.error(e.t0);case 29:case"end":return e.stop()}},e,this,[[6,26]])})),n.onSetQuestion=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c,o,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,r=a.reward,c=a.myContract,o=a.etherBalance,!(parseInt(o)<parseInt(r))){e.next=4;break}return console.log("not enough balance!!!! Go get more ether!"),e.abrupt("return");case 4:return e.prev=4,e.next=7,window.web3.utils.toWei(r,"ether");case 7:s=e.sent,i={value:s,gas:3e6},c.methods.setQuestion(t).send(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}(),n.onSubmit=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,r,c,o,s,i,l,u,m,p,h,v;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.title,c=a.contents,o=a.tags,s=a.reward,i=a.account,r||c||s){e.next=5;break}return alert("\uc791\uc131\ub418\uc9c0 \uc54a\uc740 \ud3fc\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ud655\uc778 \ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 5:if(i){e.next=8;break}return alert("\uba54\ud0c0\ub9c8\uc2a4\ud06c \ub85c\uadf8\uc778\uc744 \ud655\uc778 \ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 8:return e.prev=8,e.next=11,O.a.get("http://localhost:4000/getUserId",{withCredentials:!0});case 11:return l=e.sent,u=l.data,e.next=15,n.props.mutate({variables:{userId:u,title:r,contents:c,tags:o,reward:parseFloat(s)},refetchQueries:[{query:pe,variables:{page:1}}]});case 15:m=e.sent,p=m.data.createPost,h=p.ok,v=p.post._id,n.onSetQuestion(v),h?n.props.history.push("/"):console.log("invalid creating post"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[8,21]])}));return function(t){return e.apply(this,arguments)}}(),n.onChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(G.a)({},a,r))},n.onAddTag=function(e){if("Enter"===e.key){var t=e.target.value;if(n.state.tags.includes(t))return;n.setState({tags:[].concat(Object(Ge.a)(n.state.tags),[t])}),n.setState({tagValue:""})}},n.onDeleteTag=function(e){e.stopPropagation();var t=e.target.previousSibling.textContent,a=n.state.tags.filter(function(e){return e!==t});n.setState({tags:a})},n.onChangeStep=function(e){"prev"===e?n.setState({currentStep:n.state.currentStep-1}):n.setState({currentStep:n.state.currentStep+1})},n.state={title:"",contents:"",tags:["React"],tagValue:"",reward:"",account:"",myContract:{},etherBalance:0,steps:[1,2,3,4],currentStep:1},n}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){if(!P())return alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4"),void this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.onTransactionDefaultSetting()}},{key:"render",value:function(){var e=this,t=this.state,n=t.contents,a=t.title,c=t.tags,o=t.tagValue,s=t.reward,i=t.currentStep;return r.a.createElement("div",{className:"create-post"},r.a.createElement(w.a,{split:"vertical",minSize:"20%",defaultSize:"20%"},r.a.createElement(S,null,r.a.createElement("div",{className:"create-post__guide"},r.a.createElement(Ye,{currentStep:i}))),r.a.createElement("main",null,r.a.createElement($,this.props),r.a.createElement("div",{className:"create-post__data"},r.a.createElement("div",null,r.a.createElement("h2",null,"\uc9c8\ubb38\uc791\uc131")),r.a.createElement("div",{className:"create-post__form-container"},r.a.createElement(Je,{prevStep:i>1,nextStep:i<4,changeStep:this.onChangeStep}),1===i&&r.a.createElement(He.a,{right:!0},r.a.createElement("input",{onChange:this.onChange,value:a,placeholder:"\uc81c\ubaa9",name:"title",className:"create-post__input"})),2===i&&r.a.createElement("div",{className:"create-post__contents"},r.a.createElement(He.a,{right:!0},r.a.createElement("textarea",{onChange:this.onChange,value:n,placeholder:"\ub0b4\uc6a9",name:"contents",style:{minHeight:300},className:"create-post__textarea"}),r.a.createElement(T.a,{name:"angle double right",inverted:!0,color:"black",size:"big"}),r.a.createElement("div",{className:"create-post__markdown-viewer"},r.a.createElement(oe.a,{source:n})))),3===i&&r.a.createElement(He.a,{right:!0},r.a.createElement("div",{className:"create-post__tag-creator"},r.a.createElement("div",{className:"tag-shower"},c.map(function(t,n){return r.a.createElement("div",{className:"tag",key:t+n},t,r.a.createElement(T.a,{name:"close",className:"tag-close",onClick:e.onDeleteTag}))}),r.a.createElement("input",{placeholder:"\ud0dc\uadf8 \ucd94\uac00\ud558\uae30",name:"tagValue",value:o,onKeyPress:this.onAddTag,onChange:this.onChange})))),4===i&&r.a.createElement(He.a,{right:!0},r.a.createElement("input",{onChange:this.onChange,value:s,placeholder:"\ub9ac\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694. \ub2e8\uc704\ub294 \uc774\ub354 \uc785\ub2c8\ub2e4. ex) 0.01",name:"reward",className:"create-post__input"}),r.a.createElement("button",{className:"create-post__submit",onClick:this.onSubmit},"\uc791\uc131")))))))}}]),t}(a.Component),tt=k()(Ze()),nt=Object(s.f)(tt)(et),at=function(){return r.a.createElement(u.a,{to:"/"})},rt=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,"About us"),r.a.createElement("li",null,"Blog"),r.a.createElement("li",null,"Github")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{name:"github",size:"large",className:"github"})),r.a.createElement("li",null,r.a.createElement(T.a,{name:"ethereum",size:"large",className:"ethereum"})))),r.a.createElement("p",null,"Copyright \xa9 2019 All rights reserved, ",r.a.createElement("span",null,"DSU")))},ct=(n(867),new i.a({uri:"http://localhost:4000/graphql"})),ot=r.a.createElement(s.b,{client:ct},r.a.createElement(function(){return r.a.createElement(l.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:L}),r.a.createElement(u.b,{path:"/login",component:ee}),r.a.createElement(u.b,{path:"/rank",component:ee}),r.a.createElement(u.b,{path:"/chat",component:L}),r.a.createElement(u.b,{path:"/post/create",component:nt}),r.a.createElement(u.b,{exact:!0,path:"/post/:keyword/page/:page/:id",component:Le}),r.a.createElement(u.b,{exact:!0,path:"/post/:keyword/page/:page",component:Le}),r.a.createElement(u.b,{exact:!0,path:"/post/page/:page/:id",component:Le}),r.a.createElement(u.b,{exact:!0,path:"/post/page/:page",component:Le}),r.a.createElement(u.b,{component:at})),r.a.createElement(rt,null))},null));o.a.render(ot,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[425,1,2]]]);
//# sourceMappingURL=main.9f187be8.chunk.js.map